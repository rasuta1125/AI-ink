# コピー生成AI インキャッチ

## プロジェクト概要
- **名前**: コピー生成AI インキャッチ
- **目標**: "今日出す1本"を最短で作る
- **キャッチコピー**: 今日の投稿、ここからコピペで終わり。
- **対象**: 個人サロン／フリーランス／個店／個人EC／地域発信

## 公開URL
- **本番環境**: https://3000-ibi7mj8acec91rp6459r5-6532622b.e2b.dev
- **GitHub**: （GitHub連携後に追加予定）

## 現在実装済みの機能

### ✅ コア機能（3+1ボタン）
1. **Hookメーカー**: 引きの1行 ×5案
   - 5系統（数字／質問／逆説／ギャップ／事実）を各1案生成
   - 24-48字目安、同語尾連続回避、品質スコア付き

2. **CTAビルダー**: 行動喚起 ×5案
   - 具体動詞＋期限＋導線の型に基づく生成
   - 35-70字、受け身禁止、次アクションが明確

3. **#タグ6**: ハッシュタグ6個生成
   - 配合：汎用2／カテゴリ2／ニッチ2のミックス
   - 全角/半角正規化、禁止語フィルタ適用

4. **フル本文**: 完全版キャプション ×3案
   - Hook→本文→CTA→#6の構成固定
   - 短文(120-180字)／中文(200-350字)／長文(400-600字)

### ✅ 入力パラメータ
- `goal`: 認知｜保存｜CV
- `industry`: creator｜salon｜ec｜local｜other
- `tone`: フレンドリー｜専門家｜エモい｜きっぱり
- `topic`: トピック（100字以内）
- `path`: プロフィール｜リンク｜DM｜フォーム
- `deadline`: なし｜今週中｜今月中
- `length`: short｜mid｜long（フル本文用）

### ✅ API仕様（実装済み）
```bash
# Hookメーカー
POST /api/hooks
Request: {"goal":"認知","industry":"salon","tone":"フレンドリー","topic":"空き枠案内"}
Response: {"hooks":["hook1","hook2","hook3","hook4","hook5"]}

# CTAビルダー
POST /api/ctas  
Request: {"goal":"CV","path":"プロフィール","deadline":"今週中","topic":"初回相談"}
Response: {"ctas":["cta1","cta2","cta3","cta4","cta5"]}

# ハッシュタグ6
POST /api/hashtags6
Request: {"industry":"ec","topic":"新作トート"}
Response: {"hashtags":["#tag1","#tag2","#tag3","#tag4","#tag5","#tag6"]}

# フル本文
POST /api/captions
Request: {"goal":"CV","industry":"salon","tone":"フレンドリー","topic":"空き枠案内","length":"short"}
Response: {"captions":[{"text":"完全版テキスト","parts":{...},"length":159},...]}
```

## データアーキテクチャ
- **データモデル**: 業種別プリセット、トーン設定、ハッシュタグデータ
- **ストレージ**: メモリベースの軽量データ管理（プリセット・辞書データ）
- **品質管理**: 自動品質チェック（文字数、禁則語、構造検証、重複排除）

## ユーザーガイド

### 基本的な使い方
1. **コンテンツ設定**: 目標、業種、トーン、トピックを選択・入力
2. **機能選択**: 4つのボタンから必要な機能を選択
3. **生成実行**: ワンクリックで高品質なコンテンツを生成
4. **コピー＆ペースト**: 生成結果をクリックして直接コピー

### 推奨ワークフロー
1. **個別生成**: まずHook、CTA、#タグ6を個別生成して内容確認
2. **フル本文**: 最後にフル本文で全体統合版を生成
3. **カスタマイズ**: 必要に応じて部分的に組み合わせて使用

## 技術スタック
- **フレームワーク**: Hono + TypeScript
- **フロントエンド**: TailwindCSS + Vanilla JavaScript
- **デプロイ**: Cloudflare Pages対応
- **開発環境**: Vite + PM2

## 品質保証機能
- **自動品質チェック**: 重複率、禁則語、文字数、CTA構造検証
- **品質スコア**: 各生成結果に品質スコア付与（70点以上を採用）
- **禁止語フィルタ**: 誇大表現・効果保証表現の自動除去
- **構造検証**: CTA（動詞＋場所＋期限）、ハッシュタグ数固定などのルール適用

## 今後の発展計画（バックログ）
- [ ] 見出し10案生成機能
- [ ] DM返信テンプレート生成
- [ ] 月替わりテンプレート配布
- [ ] 簡易学習機能（よく使う語彙の保存）
- [ ] 軽翻訳機能（JA↔EN）
- [ ] Cloudflare Pagesへの本格デプロイ
- [ ] GitHub連携とCI/CD設定

## 開発状況
- **現在のステータス**: ✅ ローカル開発完了、全機能実装済み
- **最終更新**: 2025-09-28
- **次のステップ**: GitHub連携、Cloudflare Pages デプロイ準備

## 開発者向け情報

### ローカル開発
```bash
# 依存関係インストール
npm install --legacy-peer-deps

# 開発サーバー起動
npm run build
pm2 start ecosystem.config.cjs

# テスト実行
curl http://localhost:3000
```

### プロジェクト構造
```
webapp/
├── src/
│   ├── index.tsx          # メインアプリケーション
│   ├── lib/
│   │   ├── presets.ts     # プリセットデータ
│   │   └── utils.ts       # ユーティリティ関数
│   └── routes/
│       ├── hooks.ts       # Hookメーカー API
│       ├── ctas.ts        # CTAビルダー API  
│       ├── hashtags.ts    # ハッシュタグ生成 API
│       └── captions.ts    # フル本文生成 API
├── dist/                  # ビルド成果物
├── ecosystem.config.cjs   # PM2設定
├── package.json          # 依存関係とスクリプト
└── README.md             # このファイル
```

**注意**: このアプリケーションはCloudflare Pagesでの動作を前提として設計されており、Node.js固有のAPIは使用していません。すべてのロジックはWeb標準APIで実装されています。